<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>
    <%= artist_data[0].artist %>'s Worst Rap Lyrics
  </title>
  <meta name="description" content="Discover some of <%= artist_data[0].artist %>'s worst rap lyrics">
  <meta property="og:title" content="<%= artist_data[0].artist %>'s Worst Rap Lyrics" />
  <meta property="og:description" content="<%= artist_data[0].artist %> has some rap lyrics that are so bad they're good" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://badrapapi.com/artists/<%= artist_data[0].artist_query %>" />
  <link rel="canonical" href="https://badrapapi.com/artists/<%= artist_data[0].artist_query %>" />
  <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
  <!-- JavaScript Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</head>

<body>
  <%- include('./navbar'); %>
  <div class="container" style='margin-bottom: 50px;'>
    <div style="margin-top: 25px;">
      <input type='text' placeholder="Search any rapper" onkeyup="return delaySearch();" id='search-input' style='margin-bottom: 10px;' class="text-center"/> 
 

      <div id='search-results-div'></div>

      
      <script>
        const resultsDiv = document.getElementById('search-results-div')
        //search function
        async function searchArtist(q) {
          
          resultsDiv.innerText = '';
          var data = await fetch('/api/search?artist=' + q);
          var artistAdded = new Array();
          data = await data.json();
          for (var i = 0; i < data.length; ++i) {
            if (artistAdded.indexOf(data[i].item.artist_query) == -1) {
              artistAdded.push(data[i].item.artist_query)
              var link = document.createElement('a');
              link.setAttribute('href', '/artists/' + data[i].item.artist_query);
              link.style.textDecoration = 'none';
              link.innerText = data[i].item.artist + '\n';
              resultsDiv.appendChild(link)
            }
          }
        }
        //debounce function 
        const debounce = (func) => {
          let timer = null;
          return (...args) => {
            clearTimeout(timer);
            timer = setTimeout(() => {
              func.apply(this, args);
            }, 700);
          };
        }
        const delaySearch = debounce(() => { searchArtist(document.getElementById('search-input').value) })
      </script>
    </div>
    <h1 class="text-center" style='margin-top: 25px;'>Bad <%= artist_data[0].artist %> lyrics</h1>
    <% if(artist_data.length==1) { %>
    <div class="text-center" style='margin-bottom: 50px;'>
      <code>1 lyric</code>
      <% if(has_explicit_song.length !==0) { %>
      |
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" className="bi bi-explicit" viewBox="0 0 16 16">
        <path d="M6.826 10.88H10.5V12h-5V4.002h5v1.12H6.826V7.4h3.457v1.073H6.826v2.408Z" />
        <path d="M2.5 0A2.5 2.5 0 0 0 0 2.5v11A2.5 2.5 0 0 0 2.5 16h11a2.5 2.5 0 0 0 2.5-2.5v-11A2.5 2.5 0 0 0 13.5 0h-11ZM1 2.5A1.5 1.5 0 0 1 2.5 1h11A1.5 1.5 0 0 1 15 2.5v11a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 13.5v-11Z" />
      </svg>
      <span>Some song lyrics are explicit</span>
      <% } %>
    </div>
    <% } else { %>
    <div class="text-center" style='margin-bottom: 50px;'>
      <code><%= artist_data.length %> lyrics</code>
      <% if(has_explicit_song.length !==0) { %>
      |
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" className="bi bi-explicit" viewBox="0 0 16 16">
        <path d="M6.826 10.88H10.5V12h-5V4.002h5v1.12H6.826V7.4h3.457v1.073H6.826v2.408Z" />
        <path d="M2.5 0A2.5 2.5 0 0 0 0 2.5v11A2.5 2.5 0 0 0 2.5 16h11a2.5 2.5 0 0 0 2.5-2.5v-11A2.5 2.5 0 0 0 13.5 0h-11ZM1 2.5A1.5 1.5 0 0 1 2.5 1h11A1.5 1.5 0 0 1 15 2.5v11a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 13.5v-11Z" />
      </svg>
      <span style="font-size: 14px;">Some song lyrics are explicit</span>
      <% } %>
    </div>
    <% } %>
    <% if(artist_data.length == 1) { %>
    <p> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar"
      viewBox="0 0 16 16">
      <path
        d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z" />
    </svg> Lyric from <a href='/year/<%= lyrics_years_range[0] %>'><%= lyrics_years_range[0] %></a></p>
    <% } else { %>
    <p> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar"
      viewBox="0 0 16 16">
      <path
        d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z" />
    </svg> Lyrics from <% for(var i=0; i<lyrics_years_range.length; ++i) { %>
      <% if(i == lyrics_years_range.length-1) { %>
      <a href='/year/<%= lyrics_years_range[i] %>'><%= lyrics_years_range[i] %></a>
      <% } else { %>
      <a href='/year/<%= lyrics_years_range[i] %>'><%= lyrics_years_range[i] %></a> &middot
      <% } %>
      <% } %>
    </p>
    <% } %>
    <hr>
    <div style='background-color: rgb(255, 193, 7, .9); padding: 3vw'>
      <% for(var i=0; i<artist_data.length; ++i) { %>
      <div style="background-color: #f2f2f2; padding: 10px; margin-bottom: 10px; border-radius: 5px;">
        <% if(artist_data[i].explicit) { %>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" className="bi bi-explicit" viewBox="0 0 16 16">
          <path d="M6.826 10.88H10.5V12h-5V4.002h5v1.12H6.826V7.4h3.457v1.073H6.826v2.408Z" />
          <path d="M2.5 0A2.5 2.5 0 0 0 0 2.5v11A2.5 2.5 0 0 0 2.5 16h11a2.5 2.5 0 0 0 2.5-2.5v-11A2.5 2.5 0 0 0 13.5 0h-11ZM1 2.5A1.5 1.5 0 0 1 2.5 1h11A1.5 1.5 0 0 1 15 2.5v11a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 13.5v-11Z" />
        </svg>

        <% } %>
        <p style="display: inline; font-size: 18px;"><i>"<%= artist_data[i].lyrics %>"</i>
          -<%= artist_data[i].song %> (<%= artist_data[i].release_date %>)</p>

      </div>
      <% } %>
    </div>
    <div class="text-center" style='font-size: 10px; margin-bottom: 50px;'>Icons made by <a href="https://www.flaticon.com/authors/sumberrejeki" title="SumberRejeki">SumberRejeki</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div>
  </div>
</body>

</html>